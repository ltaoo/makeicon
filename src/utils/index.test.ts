import { describe, it, expect } from "vitest";

import { objectToHTML } from "./index";

// https://blog.csdn.net/cuixiping/article/details/79663611
// https://pomax.github.io/bezierjs/#getLUT

// const d = `M288 373.333333c-82.432 0-149.333333 66.922667-149.333333 149.333334a149.333333 149.333333 0 0 0 149.333333 149.333333c82.496 0 149.333333-66.816 149.333333-149.333333 0-82.410667-66.88-149.333333-149.333333-149.333334z m0 64c47.104 0 85.333333 38.250667 85.333333 85.333334 0 47.146667-38.186667 85.333333-85.333333 85.333333a85.333333 85.333333 0 1 1 0-170.666667zM757.333333 672a128.021333 128.021333 0 1 0 128 128c0-70.656-57.344-128-128-128z m0 64a64.021333 64.021333 0 1 1-64 64c0-35.328 28.672-64 64-64zM757.333333 117.333333a128.021333 128.021333 0 1 0 128 128c0-70.656-57.344-128-128-128z m0 64a64.021333 64.021333 0 1 1-64 64c0-35.328 28.672-64 64-64z`;
// const d = `M 757.3333 672 A 128.0213 128.0213 0 1 0 885.3333 800 C 885.3333 729.344 827.9893 672 757.3333 672 Z M 757.3333 736 A 64.0213 64.0213 0 1 1 693.3333 800 C 693.3333 764.672 722.0053 736 757.3333 736 Z`;
// const d = `M 649.7674 305.9614 C 630.2507 305.9614 614.4454 321.9374 614.4454 341.6674 V 376.4989 C 614.4454 396.2289 630.2507 412.2262 649.7674 412.2262 C 669.2841 412.2262 685.0894 396.2289 685.0894 376.4989 V 341.6674 C 685.0894 321.9374 669.2841 305.9614 649.7674 305.9614 Z`;
// const d = `M 648.128 241.7707 C 700.544 242.7307 743.424 258.752 774.9547 290.2827 C 806.5067 321.856 822.464 364.6933 823.2747 417.0027 A 32 32 0 1 1 759.2747 418.0053 C 758.72 381.4187 748.7147 354.5387 729.7067 335.552 C 710.6773 316.5227 683.6907 306.432 646.9333 305.7493 A 32 32 0 0 1 648.128 241.7707 Z`;
// const d = `M 518.4 149.2907 C 630.9973 68.5013 786.2827 79.8933 886.528 181.2907 C 940.3947 235.8187 970.6667 310.144 970.6667 387.6693 C 970.6667 465.1947 940.3733 539.52 886.5707 594.0053 L 592.1493 893.5253 A 110.976 110.976 0 0 1 511.936 928 A 110.72 110.72 0 0 1 432.0213 893.824 L 137.3227 593.7707 C 83.5627 539.2427 53.3333 464.9813 53.3333 387.5413 S 83.5627 235.8187 137.344 181.2693 C 239.3173 78.1227 398.336 68.1173 511.36 153.6427 L 511.9147 154.0693 Z`;
// const d = `M 1129.1307 0 H 121.8316 A 109.6168 109.6168 0 0 0 12.1905 109.6411 V 219.2823 A 109.6168 109.6168 0 0 0 121.8316 328.9234 H 1129.1307 A 109.6168 109.6168 0 0 0 1238.7718 219.2823 V 109.6411 A 109.6168 109.6168 0 0 0 1129.1307 0 Z M 1156.5592 219.2823 C 1156.5592 234.3497 1144.2225 246.6865 1129.1307 246.6865 H 121.8316 A 27.5017 27.5017 0 0 1 94.4274 219.2823 V 109.6411 C 94.4274 94.5737 106.7642 82.237 121.8316 82.237 H 1129.1307 C 1144.2225 82.237 1156.5592 94.5737 1156.5592 109.6411 V 219.2823 Z M 1008.2499 512.5851 H 243.395 L 250.9288 430.3238 H 1000.7162 L 1008.2743 512.5608 Z M 260.2423 328.899 L 250.9288 430.3238 L 243.3707 512.5608 L 200.4846 976.4815 A 40.96 40.96 0 0 1 159.6465 1013.76 C 158.4274 1013.76 157.0621 1013.76 155.8187 1013.6137 A 41.0575 41.0575 0 0 1 118.6865 968.9234 L 177.8834 328.9234 H 260.2423 Z M 1095.9726 1013.6137 C 1094.7535 1013.76 1093.3638 1013.76 1092.1448 1013.76 C 1071.1771 1013.76 1053.2084 997.7173 1051.2823 976.4571 L 1008.2499 512.5608 L 1000.7162 430.3238 L 991.4027 328.899 H 1074.0541 L 1133.251 968.9234 A 41.2526 41.2526 0 0 1 1095.9726 1013.6137 Z`;

// defaultValue: `<svg t="1725376930087" class="icon" viewBox="0 0 1043 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1891" data-spm-anchor-id="a313x.collections_detail.0.i4.361a3a81f5lUb4" width="200" height="200"><path d="${d}" fill="#111111" p-id="1892" data-spm-anchor-id="a313x.collections_detail.0.i2.361a3a81f5lUb4" class=""></path></svg>`,

describe("build html from object", () => {
  // it("svg", () => {
  //   const svgObject = {
  //     tag: "svg",
  //     viewBox: "0 0 1024 1024",
  //     "xmlns:svg": "http://www.w3.org/2000/svg",
  //     children: [{ tag: "path", d: "M0 0L100 100" }],
  //   };
  //   const result = objectToHTML(svgObject);

  //   expect(result).toBe(
  //     `<svg viewBox="0 0 1024 1024" xmlns:svg="http://www.w3.org/2000/svg"><path d="M0 0L100 100"></path></svg>`
  //   );
  // });

  // it("svg", () => {
  //   const svgObject = {
  //     tag: "svg",
  //     viewBox: "0 0 1024 1024",
  //     "xmlns:svg": "http://www.w3.org/2000/svg",
  //     children: [{ tag: "g", class: "layer", children: [{ tag: "path", d: "M0 0L100 100" }] }],
  //   };
  //   const result = objectToHTML(svgObject);

  //   expect(result).toBe(
  //     `<svg viewBox="0 0 1024 1024" xmlns:svg="http://www.w3.org/2000/svg"><g class="layer"><path d="M0 0L100 100"></path></g></svg>`
  //   );
  // });

  it("real world1", () => {
    const obj = {
      tag: "svg",
      viewBox: "0 0 512 512",
      width: 24,
      height: 24,
      xmlns: "http://www.w3.org/2000/svg",
      "xmlns:svg": "http://www.w3.org/2000/svg",
      class: "icon",
      version: "1.1",
      children: [
        {
          tag: "g",
          class: "layer",
          children: [
            {
              tag: "path",
              d: "M111.32 327.01L96.19 326.05C92.88 325.83 90.17 323.61 89.19 320.64C85.45 301.68 83.62 282.17 76.51 266.84C65.17 242.44 46.99 224.72 24.65 209.16C21.57 207.03 20.39 203.98 21.13 200.02C23.22 188.32 26.88 176.68 26.82 165.08C26.69 138.06 23.5 111.39 17.24 85.06C16.79 83.13 17.09 80.41 18.14 76.88C21.22 66.55 28.12 62.85 38.85 65.78C55.78 70.41 72.72 75.04 89.65 79.68C107.3 84.53 143.68 92.58 158.44 80.74C169.61 71.8 175.36 68.11 189.69 65.61C190.99 65.39 192.01 64.52 192.49 63.4C193.61 56.37 193.32 49.28 194.48 43.8C202.05 7.94 241.54 -11.28 272.66 12.19C293.34 27.82 300.89 58.34 283.27 79.58C264.39 102.39 237.22 98.9 211.76 89.85C210.03 89.22 209.24 89.84 209.4 91.68C211.79 117.31 227.98 137.23 242.91 157.01C246.39 161.6 250.14 165.39 254.18 168.38C255.12 169.08 257.13 167.99 257.16 167.95C257.19 167.91 257.22 167.87 257.24 167.83C259.9 146.44 275.66 141.02 287.96 128.69C299.02 117.61 304.8 105.55 305.31 92.52C305.54 86.87 300.99 79.49 302.28 72.27C307.8 41.78 327.45 62.5 340.75 69.84C377.69 90.29 432.74 69.41 471.14 56.81C489.29 50.86 496.61 64.32 493.58 80.85C489.92 100.88 487.27 120.85 485.6 140.73C484.46 155.16 486.28 172.02 491.02 192.13C493.08 200.84 488.26 208.35 480.48 213.47C451.99 232.25 432.74 262.81 427.15 298.32C425.82 306.8 424.29 310.29 418.11 315.04C417.41 315.56 416.6 315.83 415.79 315.87C409.26 314.73 403.74 315.32 398.78 317.23C397.03 317.94 396.25 318.67 395.76 319.69C394.36 322.59 394.01 325.54 394.7 328.53C398.82 347.05 396.53 361.58 391.31 383.32C377.71 439.84 318.47 507.43 256.03 509.62C199.24 511.58 146.68 453.9 124.97 406.99C113.4 382.03 109.29 355.9 112.64 328.59C112.75 327.59 112.31 327.06 111.31 326.99M254.9 61.86C260.05 55.71 258.7 46.1 251.9 40.42C245.09 34.73 235.41 35.11 230.26 41.26C225.11 47.41 226.46 57.02 233.26 62.7C240.06 68.39 249.75 68.01 254.9 61.86M434.44 109.41C403.19 117.79 371.62 119.24 339.75 113.77C338.49 113.55 337.91 114.08 338.02 115.37C338.4 119.76 338.03 123.19 336.92 125.68C327.65 146.52 312.75 161.43 292.2 170.43C290.07 171.35 289.01 173.76 289.77 175.95C296.09 193.94 302.2 209.13 303.2 228.48C302.11 230.5 301.57 233.51 301.57 237.52C301.58 239.47 303.17 241.05 305.12 241.05C320.85 241.9 348.08 248.42 358.42 261.65C367 272.62 370.62 280.3 387.28 278.44C388.66 278.3 389.83 277.56 390.58 276.52C395.76 264.77 401.08 254.35 406.98 244.43C418.26 225.41 434.82 207.52 450.48 190.2C459.69 180.03 454.04 139.6 452.21 126.23C452.14 125.39 451.41 124.77 450.57 124.84C451.22 124.85 451.06 124.51 451.04 124.07C450.71 117.64 451.22 110.91 452.57 103.89C452.95 101.99 450.09 99.81 449.81 99.75C449.52 99.69 449.24 99.67 448.96 99.68L440.1 102.5C439.5 102.7 439.2 103.11 439.2 103.73L439.2 104.86C439.18 105.75 438.73 106.29 437.87 106.49C435.61 106.98 434.46 107.95 434.41 109.42M61.68 118.25C64.49 139.44 64.61 160.96 62.01 182.82C56.87 183.53 55.2 187.21 57.02 193.86C57.3 194.92 57.92 195.87 58.78 196.59C86.44 219.71 107.42 247.82 121.72 280.94C123.12 284.22 125.24 284.8 128.1 282.67C129.27 281.81 130.6 280.08 132.09 277.48C146.85 263.22 158.49 260.06 179.1 255.64C180.36 255.37 180.93 254.61 180.8 253.35C180.66 252.04 180.36 250.79 179.91 249.62C180.39 243.61 180.72 233.35 180.57 218.01C180.37 194.14 196.59 187.59 216.11 180.21C217.33 179.77 217.57 179.01 216.84 177.95L181.13 125.27C178.37 121.21 173.89 119 169.33 118.97C154.63 119.65 140.45 119.71 125.97 119.16C119.52 118.93 111.57 119.96 103.76 117.53C91.88 113.81 79.02 109.28 65.19 103.97C62.37 102.88 61.03 103.85 61.17 106.86L61.67 118.26M271.74 223.52C269.86 206.51 254.21 194.28 236.78 196.2C228.31 197.12 220.97 201.25 215.83 207.26C210.19 214.07 207.94 221.96 208.54 229.62C210.5 247.5 226.15 259.73 243.58 257.81C252.05 256.89 259.39 252.76 264.53 246.76C270.17 239.95 272.42 232.06 271.82 224.4M299.73 270.49C264.73 283.94 256.41 306.99 274.76 339.64C290.56 356.33 309.88 361.16 332.71 354.14C359.07 346.06 366.39 317.87 352.96 295.53C340.21 274.32 322.47 265.97 299.73 270.5M185.83 291.97C150.52 300.88 127.38 344.93 167.61 365.84C178.16 370.96 189.35 372.13 201.19 369.36C211.25 366.99 219.05 361.79 224.6 353.77C234.01 340.14 232.21 321.29 229.12 305.1C226.59 291.77 221.31 286.95 207.68 287.51C197.62 287.93 190.34 289.42 185.84 291.97M352.96 380.41C317.88 398.86 291.79 388.92 259.9 370.5C258.9 369.94 258.01 370.08 257.24 370.9C233.47 395.77 191.18 418.64 158.36 395.54C154.17 392.59 153.31 393.37 155.77 397.87C172.56 428.59 194.8 455.05 228.25 470.05C245.07 477.63 262.26 478.99 278.39 471.35C315.65 453.73 341.2 424.67 355.06 384.18C355.68 382.36 355.73 381.26 355.23 380.89C354.34 380.25 353.59 380.09 352.97 380.42",
              id: "svg_1",
              fill: "#343333",
              stroke: "#111111",
              "stroke-width": "1",
              "stroke-linecap": "round",
              "stroke-linejoin": "miter",
            },
          ],
        },
      ],
    };
    const html = objectToHTML(obj);
    expect(html).toBe(
      `<svg viewBox="0 0 512 512" width="24" height="24" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" class="icon" version="1.1"><g class="layer"><path d="M111.32 327.01L96.19 326.05C92.88 325.83 90.17 323.61 89.19 320.64C85.45 301.68 83.62 282.17 76.51 266.84C65.17 242.44 46.99 224.72 24.65 209.16C21.57 207.03 20.39 203.98 21.13 200.02C23.22 188.32 26.88 176.68 26.82 165.08C26.69 138.06 23.5 111.39 17.24 85.06C16.79 83.13 17.09 80.41 18.14 76.88C21.22 66.55 28.12 62.85 38.85 65.78C55.78 70.41 72.72 75.04 89.65 79.68C107.3 84.53 143.68 92.58 158.44 80.74C169.61 71.8 175.36 68.11 189.69 65.61C190.99 65.39 192.01 64.52 192.49 63.4C193.61 56.37 193.32 49.28 194.48 43.8C202.05 7.94 241.54 -11.28 272.66 12.19C293.34 27.82 300.89 58.34 283.27 79.58C264.39 102.39 237.22 98.9 211.76 89.85C210.03 89.22 209.24 89.84 209.4 91.68C211.79 117.31 227.98 137.23 242.91 157.01C246.39 161.6 250.14 165.39 254.18 168.38C255.12 169.08 257.13 167.99 257.16 167.95C257.19 167.91 257.22 167.87 257.24 167.83C259.9 146.44 275.66 141.02 287.96 128.69C299.02 117.61 304.8 105.55 305.31 92.52C305.54 86.87 300.99 79.49 302.28 72.27C307.8 41.78 327.45 62.5 340.75 69.84C377.69 90.29 432.74 69.41 471.14 56.81C489.29 50.86 496.61 64.32 493.58 80.85C489.92 100.88 487.27 120.85 485.6 140.73C484.46 155.16 486.28 172.02 491.02 192.13C493.08 200.84 488.26 208.35 480.48 213.47C451.99 232.25 432.74 262.81 427.15 298.32C425.82 306.8 424.29 310.29 418.11 315.04C417.41 315.56 416.6 315.83 415.79 315.87C409.26 314.73 403.74 315.32 398.78 317.23C397.03 317.94 396.25 318.67 395.76 319.69C394.36 322.59 394.01 325.54 394.7 328.53C398.82 347.05 396.53 361.58 391.31 383.32C377.71 439.84 318.47 507.43 256.03 509.62C199.24 511.58 146.68 453.9 124.97 406.99C113.4 382.03 109.29 355.9 112.64 328.59C112.75 327.59 112.31 327.06 111.31 326.99M254.9 61.86C260.05 55.71 258.7 46.1 251.9 40.42C245.09 34.73 235.41 35.11 230.26 41.26C225.11 47.41 226.46 57.02 233.26 62.7C240.06 68.39 249.75 68.01 254.9 61.86M434.44 109.41C403.19 117.79 371.62 119.24 339.75 113.77C338.49 113.55 337.91 114.08 338.02 115.37C338.4 119.76 338.03 123.19 336.92 125.68C327.65 146.52 312.75 161.43 292.2 170.43C290.07 171.35 289.01 173.76 289.77 175.95C296.09 193.94 302.2 209.13 303.2 228.48C302.11 230.5 301.57 233.51 301.57 237.52C301.58 239.47 303.17 241.05 305.12 241.05C320.85 241.9 348.08 248.42 358.42 261.65C367 272.62 370.62 280.3 387.28 278.44C388.66 278.3 389.83 277.56 390.58 276.52C395.76 264.77 401.08 254.35 406.98 244.43C418.26 225.41 434.82 207.52 450.48 190.2C459.69 180.03 454.04 139.6 452.21 126.23C452.14 125.39 451.41 124.77 450.57 124.84C451.22 124.85 451.06 124.51 451.04 124.07C450.71 117.64 451.22 110.91 452.57 103.89C452.95 101.99 450.09 99.81 449.81 99.75C449.52 99.69 449.24 99.67 448.96 99.68L440.1 102.5C439.5 102.7 439.2 103.11 439.2 103.73L439.2 104.86C439.18 105.75 438.73 106.29 437.87 106.49C435.61 106.98 434.46 107.95 434.41 109.42M61.68 118.25C64.49 139.44 64.61 160.96 62.01 182.82C56.87 183.53 55.2 187.21 57.02 193.86C57.3 194.92 57.92 195.87 58.78 196.59C86.44 219.71 107.42 247.82 121.72 280.94C123.12 284.22 125.24 284.8 128.1 282.67C129.27 281.81 130.6 280.08 132.09 277.48C146.85 263.22 158.49 260.06 179.1 255.64C180.36 255.37 180.93 254.61 180.8 253.35C180.66 252.04 180.36 250.79 179.91 249.62C180.39 243.61 180.72 233.35 180.57 218.01C180.37 194.14 196.59 187.59 216.11 180.21C217.33 179.77 217.57 179.01 216.84 177.95L181.13 125.27C178.37 121.21 173.89 119 169.33 118.97C154.63 119.65 140.45 119.71 125.97 119.16C119.52 118.93 111.57 119.96 103.76 117.53C91.88 113.81 79.02 109.28 65.19 103.97C62.37 102.88 61.03 103.85 61.17 106.86L61.67 118.26M271.74 223.52C269.86 206.51 254.21 194.28 236.78 196.2C228.31 197.12 220.97 201.25 215.83 207.26C210.19 214.07 207.94 221.96 208.54 229.62C210.5 247.5 226.15 259.73 243.58 257.81C252.05 256.89 259.39 252.76 264.53 246.76C270.17 239.95 272.42 232.06 271.82 224.4M299.73 270.49C264.73 283.94 256.41 306.99 274.76 339.64C290.56 356.33 309.88 361.16 332.71 354.14C359.07 346.06 366.39 317.87 352.96 295.53C340.21 274.32 322.47 265.97 299.73 270.5M185.83 291.97C150.52 300.88 127.38 344.93 167.61 365.84C178.16 370.96 189.35 372.13 201.19 369.36C211.25 366.99 219.05 361.79 224.6 353.77C234.01 340.14 232.21 321.29 229.12 305.1C226.59 291.77 221.31 286.95 207.68 287.51C197.62 287.93 190.34 289.42 185.84 291.97M352.96 380.41C317.88 398.86 291.79 388.92 259.9 370.5C258.9 369.94 258.01 370.08 257.24 370.9C233.47 395.77 191.18 418.64 158.36 395.54C154.17 392.59 153.31 393.37 155.77 397.87C172.56 428.59 194.8 455.05 228.25 470.05C245.07 477.63 262.26 478.99 278.39 471.35C315.65 453.73 341.2 424.67 355.06 384.18C355.68 382.36 355.73 381.26 355.23 380.89C354.34 380.25 353.59 380.09 352.97 380.42" id="svg_1" fill="#343333" stroke="#111111" stroke-width="1" stroke-linecap="round" stroke-linejoin="miter"></path></g></svg>`
    );
  });
});
